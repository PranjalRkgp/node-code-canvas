<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flowchart Editor</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <div class="app">
        <header class="toolbar">
            <h1>Flowchart Editor</h1>
            <div class="toolbar-buttons">
                <button id="addNodeBtn" class="btn btn-primary">Add Node</button>
                <button id="connectBtn" class="btn btn-secondary">Connect Nodes</button>
                <button id="saveBtn" class="btn btn-success">Save</button>
                <button id="loadBtn" class="btn btn-info">Load</button>
                <button id="generateCodeBtn" class="btn btn-warning">Generate Code</button>
                <button id="exportBtn" class="btn btn-outline">Export JSON</button>
            </div>
        </header>

        <main class="canvas-container">
            <canvas id="flowchartCanvas" width="1200" height="800"></canvas>
        </main>

        <!-- Status bar -->
        <div id="statusBar" class="status-bar">
            Ready - Click "Add Node" to start creating your flowchart
        </div>
    </div>

    <!-- Modals -->
    <div id="nodeEditModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Edit Node</h2>
            <form id="nodeEditForm">
                <div class="form-group">
                    <label for="nodeTitle">Title:</label>
                    <input type="text" id="nodeTitle" required>
                </div>
                <div class="form-group">
                    <label for="nodeDescription">Description:</label>
                    <textarea id="nodeDescription" rows="3"></textarea>
                </div>
                <div class="form-group">
                    <label for="nodeType">Type:</label>
                    <select id="nodeType">
                        <option value="rectangle">Rectangle</option>
                        <option value="circle">Circle</option>
                        <option value="diamond">Diamond</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="nodeColor">Color:</label>
                    <select id="nodeColor">
                        <option value="#3b82f6">Blue</option>
                        <option value="#10b981">Green</option>
                        <option value="#f59e0b">Orange</option>
                        <option value="#ef4444">Red</option>
                        <option value="#8b5cf6">Purple</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="nodePriority">Priority:</label>
                    <select id="nodePriority">
                        <option value="">None</option>
                        <option value="low">Low</option>
                        <option value="medium">Medium</option>
                        <option value="high">High</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="nodeAssignee">Assignee:</label>
                    <input type="text" id="nodeAssignee">
                </div>
                <div class="form-group">
                    <label for="nodeTags">Tags (comma-separated):</label>
                    <input type="text" id="nodeTags">
                </div>
                <div class="form-group">
                    <label for="nodeNotes">Notes:</label>
                    <textarea id="nodeNotes" rows="2"></textarea>
                </div>
                <div class="form-buttons">
                    <button type="submit" class="btn btn-primary">Save</button>
                    <button type="button" class="btn btn-secondary" onclick="closeModal('nodeEditModal')">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <div id="codeModal" class="modal">
        <div class="modal-content large">
            <span class="close">&times;</span>
            <h2>Generated Code</h2>
            <pre id="generatedCode"></pre>
            <div class="form-buttons">
                <button id="copyCodeBtn" class="btn btn-primary">Copy Code</button>
                <button type="button" class="btn btn-secondary" onclick="closeModal('codeModal')">Close</button>
            </div>
        </div>
    </div>

    <script src="/static/script.js"></script>
</body>
</html>
